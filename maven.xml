<?xml version="1.0" encoding="UTF-8"?>

<!-- $Revision: 1.21 $ $Date: 2004-10-27 20:54:09 +0600 (Wed, 27 Oct 2004) $ -->

<project default="jar"
    xmlns:j="jelly:core"
    xmlns:u="jelly:util"
    xmlns:maven="jelly:maven"
    xmlns:util="jelly:util"
    xmlns:deploy="deploy"
    xmlns:ant="jelly:ant">

    <preGoal name="test:compile">
    	<j:if test="${maven.test.skip != 'true'}">
	        <u:file var="file" name="${maven.build.dir}/xmlschema2002-01-16"/>
	        <j:if test="${!file.exists()}">
	        	<echo>Downloading 6MB XML Schema test suite. This make take a few minutes...</echo>
				<ant:get dest="${maven.build.dir}/xsts-2002-01-16.tar.gz" 
					src="http://www.w3.org/XML/2004/xml-schema-test-suite/xmlschema2002-01-16/xsts-2002-01-16.tar.gz"/>
		    	
				<ant:gunzip src="${maven.build.dir}/xsts-2002-01-16.tar.gz"/>
				<ant:untar src="${maven.build.dir}/xsts-2002-01-16.tar" dest="${maven.build.dir}"/>
	        </j:if>
        </j:if>
    </preGoal>
</project>
